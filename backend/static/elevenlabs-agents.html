<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–æ–∏ –∞–≥–µ–Ω—Ç—ã 11Labs | Voicyfy</title>
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
  <link rel="manifest" href="/static/manifest.json">
  <meta name="theme-color" content="#2563eb">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/static/css/elevenlabs-agents.css">
</head>
<body>
  <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <a href="/" class="sidebar-logo">
        <div class="logo-icon">
          <img src="/static/images/IMG_2820.PNG" alt="Voicyfy Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div style="display:none; width: 30px; height: 30px; border-radius: 0.5rem; background: linear-gradient(135deg, #4a86e8, #2563eb); color: white; align-items: center; justify-content: center; font-size: 0.875rem;">
            <i class="fas fa-robot"></i>
          </div>
        </div>
        <span>Voicyfy</span>
      </a>
    </div>
    
    <nav class="sidebar-nav">
      <div class="sidebar-section">–û—Å–Ω–æ–≤–Ω–æ–µ</div>
      <a href="/static/dashboard.html" class="sidebar-nav-item">
        <i class="fas fa-home"></i> –î–∞—à–±–æ—Ä–¥
      </a>
      <a href="/static/agents.html" class="sidebar-nav-item">
        <i class="fas fa-robot"></i> –ú–æ–∏ –∞–≥–µ–Ω—Ç—ã
      </a>
      <a href="/static/elevenlabs-agents.html" class="sidebar-nav-item active">
        <i class="fas fa-microphone"></i> –ú–æ–∏ –∞–≥–µ–Ω—Ç—ã 11Labs
      </a>
      <a href="/static/knowledge-base.html" class="sidebar-nav-item">
        <i class="fas fa-book"></i> –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
      </a>

      <div class="sidebar-section">–ò–ò –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</div>
      <a href="/static/voice_llm_interface.html" class="sidebar-nav-item">
        <i class="fas fa-microphone"></i> JARVIS AI
      </a>

      <div class="sidebar-section">–ê–∫–∫–∞—É–Ω—Ç</div>
      <a href="/static/settings.html" class="sidebar-nav-item">
        <i class="fas fa-gear"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
      </a>
    </nav>
    
    <div class="sidebar-footer">
      <a href="https://voicyfy.ru/" class="btn btn-secondary" style="width: 100%; text-decoration: none; justify-content: center;" id="logout-button">
        <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
      </a>
    </div>
  </aside>
  
  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="main-content">
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
    <div class="top-nav">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <h1 class="page-title">–ú–æ–∏ –∞–≥–µ–Ω—Ç—ã 11Labs</h1>
      </div>
      
      <div class="page-actions">
        <button class="btn btn-outline" id="view-embed-code" style="display: none;">
          <i class="fas fa-code"></i> –ö–æ–¥ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
        </button>
        <button class="btn btn-danger" id="delete-agent" style="display: none;">
          <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
        </button>
        <button class="btn btn-primary" id="save-agent" style="display: none;">
          <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
        </button>
      </div>
    </div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ -->
    <div class="content-container">
      <!-- –§–æ—Ä–º–∞ API –∫–ª—é—á–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ –∫–ª—é—á –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω) -->
      <div id="api-key-container" class="card" style="display: none;">
        <div class="card-header">
          <h2 class="card-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ElevenLabs API</h2>
        </div>
        <div class="api-key-form">
          <div class="api-key-description">
            <p>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏ ElevenLabs –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –≤–∞—à API –∫–ª—é—á.</p>
            <p>–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á –º–æ–∂–Ω–æ –≤ <a href="https://elevenlabs.io/app/speech-synthesis" target="_blank">–ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ ElevenLabs</a></p>
          </div>
          <form id="api-key-form">
            <div class="form-group">
              <label for="api-key">ElevenLabs API Key</label>
              <input type="password" id="api-key" class="form-control" placeholder="sk_..." required>
            </div>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-key"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å API –∫–ª—é—á
            </button>
          </form>
        </div>
      </div>

      <!-- –°–ø–∏—Å–æ–∫ –∞–≥–µ–Ω—Ç–æ–≤ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ API –∫–ª—é—á–∞) -->
      <div id="agents-list-container" style="display: none;">
        <!-- API Key —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">ElevenLabs API Key</h3>
          </div>
          
          <div class="api-key-section">
            <div class="api-key-display">
              <i class="fas fa-key" style="color: var(--primary-blue);"></i>
              <span class="api-key-text" id="api-key-display">sk_...****</span>
              <div class="api-key-actions">
                <button class="btn btn-small btn-outline" id="change-api-key-btn">
                  <i class="fas fa-edit"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                </button>
                <button class="btn btn-small btn-danger" id="remove-api-key-btn">
                  <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                </button>
              </div>
            </div>
          </div>
          
          <!-- –§–æ—Ä–º–∞ —Å–º–µ–Ω—ã API –∫–ª—é—á–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
          <div id="change-api-key-form" style="display: none;">
            <form id="update-api-key-form">
              <div class="form-group">
                <label for="new-api-key">–ù–æ–≤—ã–π API –∫–ª—é—á</label>
                <input type="password" id="new-api-key" class="form-control" placeholder="sk_..." required>
              </div>
              <div style="display: flex; gap: 1rem;">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button type="button" class="btn btn-outline" id="cancel-api-key-change">
                  –û—Ç–º–µ–Ω–∞
                </button>
              </div>
            </form>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">–í–∞—à–∏ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã ElevenLabs</h2>
            <button class="btn btn-primary" id="add-agent-btn">
              <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∞–≥–µ–Ω—Ç–∞
            </button>
          </div>
          <div id="agents-list" class="agents-list">
            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>
        </div>
      </div>

      <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ -->
      <div id="edit-agent-container" style="display: none;">
        <!-- –¢–∞–±—ã -->
        <div class="tabs">
          <div class="tab active" data-tab="settings">
            <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
          </div>
          <div class="tab" data-tab="knowledge">
            <i class="fas fa-book"></i> –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
          </div>
          <div class="tab" data-tab="personalization">
            <i class="fas fa-user-edit"></i> –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
          </div>
          <div class="tab" data-tab="tools">
            <i class="fas fa-tools"></i> –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
          </div>
          <div class="tab" data-tab="system-tools">
            <i class="fas fa-cogs"></i> –°–∏—Å—Ç–µ–º–Ω—ã–µ
          </div>
          <div class="tab" data-tab="testing">
            <i class="fas fa-flask"></i> –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
          </div>
          <div class="tab" data-tab="embed">
            <i class="fas fa-code"></i> –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ
          </div>
        </div>
        
        <!-- –¢–∞–± –æ—Å–Ω–æ–≤–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div class="tab-content active" id="settings-tab">
          <form id="agent-form">
            <div class="card">
              <!-- –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–∞ -->
              <h3 style="margin-bottom: 1.5rem; color: var(--text-dark);">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
              
              <div class="form-group">
                <label for="agent-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞</label>
                <input type="text" id="agent-name" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
              </div>
              
              <div class="form-group">
                <label for="agent-language">–Ø–∑—ã–∫ –∞–≥–µ–Ω—Ç–∞</label>
                <select id="agent-language" class="form-control" required>
                  <option value="en">üá∫üá∏ English</option>
                  <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                  <option value="es">üá™üá∏ Espa√±ol</option>
                  <option value="fr">üá´üá∑ Fran√ßais</option>
                  <option value="de">üá©üá™ Deutsch</option>
                  <option value="it">üáÆüáπ Italiano</option>
                  <option value="pt">üáµüáπ Portugu√™s</option>
                  <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
                  <option value="ko">üá∞üá∑ ÌïúÍµ≠Ïñ¥</option>
                  <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
                </select>
                <p style="margin-top: 0.5rem; color: var(--text-gray); font-size: 0.875rem;">
                  –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –æ–±—â–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞. –í–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤.
                </p>
              </div>
              
              <div class="form-group">
                <label for="first-message">–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞</label>
                <input type="text" id="first-message" class="form-control" placeholder="–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞? –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?" maxlength="200">
                <p style="margin-top: 0.5rem; color: var(--text-gray); font-size: 0.875rem;">
                  –°–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∞–≥–µ–Ω—Ç –ø—Ä–æ–∏–∑–Ω–µ—Å–µ—Ç –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞.
                </p>
              </div>
              
              <div class="form-group">
                <label for="system-prompt">–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç</label>
                <textarea id="system-prompt" class="form-control" placeholder="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞" required></textarea>
                <p style="margin-top: 0.5rem; color: var(--text-gray); font-size: 0.875rem;">
                  –ó–∞–¥–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: {{user_name}}, {{company_name}} –∏ –¥—Ä.
                </p>
              </div>
              
              <div class="form-group">
                <label>–ì–æ–ª–æ—Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</label>
                <div id="voice-options" class="voice-options">
                  <!-- –ì–æ–ª–æ—Å–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
              </div>
            </div>
            
            <!-- LLM –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="card">
              <h3 style="margin-bottom: 1.5rem; color: var(--text-dark);">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI –º–æ–¥–µ–ª–∏</h3>
              
              <div class="form-group">
                <label for="llm-model">LLM –º–æ–¥–µ–ª—å</label>
                <select id="llm-model" class="form-control">
                  <option value="gpt-4">GPT-4 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</option>
                  <option value="gpt-3.5-turbo">GPT-3.5 Turbo (–±—ã—Å—Ç—Ä–µ–µ)</option>
                  <option value="claude-3-sonnet">Claude 3 Sonnet</option>
                  <option value="claude-3-haiku">Claude 3 Haiku</option>
                  <option value="gemini-pro">Gemini Pro</option>
                </select>
                <p style="margin-top: 0.5rem; color: var(--text-gray); font-size: 0.875rem;">
                  –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫–æ–≤—É—é –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∞–≥–µ–Ω—Ç–∞.
                </p>
              </div>
              
              <div class="slider-group">
                <div class="slider-label">
                  <label for="llm-temperature">–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å</label>
                  <span class="slider-value" id="temperature-value">0.7</span>
                </div>
                <input type="range" id="llm-temperature" class="slider" min="0" max="1" step="0.1" value="0.7">
                <div class="slider-hints">
                  <span>–¢–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (0.0)</span>
                  <span>–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (1.0)</span>
                </div>
              </div>
              
              <div class="slider-group">
                <div class="slider-label">
                  <label for="llm-max-tokens">–î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞</label>
                  <span class="slider-value" id="max-tokens-value">150</span>
                </div>
                <input type="range" id="llm-max-tokens" class="slider" min="50" max="500" step="25" value="150">
                <div class="slider-hints">
                  <span>–ö–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã (50)</span>
                  <span>–ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (500)</span>
                </div>
              </div>
            </div>
            
            <!-- TTS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="card">
              <h3 style="margin-bottom: 1.5rem; color: var(--text-dark);">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–æ–ª–æ—Å–∞</h3>
              
              <div class="slider-group">
                <div class="slider-label">
                  <label for="tts-stability">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–∞</label>
                  <span class="slider-value" id="stability-value">0.5</span>
                </div>
                <input type="range" id="tts-stability" class="slider" min="0" max="1" step="0.1" value="0.5">
                <div class="slider-hints">
                  <span>–í–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–π (0.0)</span>
                  <span>–°—Ç–∞–±–∏–ª—å–Ω—ã–π (1.0)</span>
                </div>
              </div>
              
              <div class="slider-group">
                <div class="slider-label">
                  <label for="tts-similarity">–ü–æ—Ö–æ–∂–µ—Å—Ç—å –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª</label>
                  <span class="slider-value" id="similarity-value">0.5</span>
                </div>
                <input type="range" id="tts-similarity" class="slider" min="0" max="1" step="0.1" value="0.5">
                <div class="slider-hints">
                  <span>–°–≤–æ–±–æ–¥–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è (0.0)</span>
                  <span>–¢–æ—á–Ω–∞—è –∫–æ–ø–∏—è (1.0)</span>
                </div>
              </div>
              
              <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem; font-weight: 500;">
                  <input type="checkbox" id="tts-speaker-boost" checked>
                  –£—Å–∏–ª–µ–Ω–∏–µ –¥–∏–∫—Ç–æ—Ä–∞
                </label>
                <p style="margin-top: 0.25rem; color: var(--text-gray); font-size: 0.875rem;">
                  –£–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤
                </p>
              </div>
            </div>
              
            <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem;">
              <button type="button" class="btn btn-outline" id="cancel-button">–û—Ç–º–µ–Ω–∞</button>
              <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
          </form>
        </div>
        
        <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ -->
        <div class="tab-content" id="knowledge-tab"></div>
        <div class="tab-content" id="personalization-tab"></div>
        <div class="tab-content" id="tools-tab"></div>
        <div class="tab-content" id="system-tools-tab"></div>
        <div class="tab-content" id="testing-tab"></div>
        <div class="tab-content" id="embed-tab"></div>
      </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification notification-success" id="notification" style="display: none;">
      <div class="notification-icon">
        <i class="fas fa-check-circle"></i>
      </div>
      <div class="notification-content">
        <div id="notification-message">–û–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!</div>
      </div>
      <button class="notification-close" id="notification-close">&times;</button>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="loading-overlay" id="loading-overlay" style="display: none;">
      <div class="loading-spinner"></div>
    </div>
  </main>
  
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
  <script src="/static/js/elevenlabs-conversation-manager.js"></script>
  <script src="/static/js/elevenlabs-agents-core.js"></script>
  <script src="/static/js/elevenlabs-agents-tabs.js"></script>
  <script src="/static/js/elevenlabs-event-handlers.js"></script>
</body>
</html>
